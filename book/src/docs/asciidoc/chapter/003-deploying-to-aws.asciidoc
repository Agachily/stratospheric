[[deploying]]
== Deploying the Application to AWS

=== Deployment Options

* goal: give an idea of the different deployment options with their pros and cons
* Beanstalk
* AWS Console
* CloudFormation
* AWS CDK
* In the rest of the book, we're focussing on CloudFormation , because it provides the basis for the other technologies.

=== Introduction to AWS CloudFormation

==== Prerequisites

===== Requisite Permissions

* complex
* no simple setting, other than "AdministratorAccess" and "AmazonEC2FullAccess", that is

===== Using the AWS CLI

===== Working With AWS CloudFormation Templates

===== Tying Everything Together: AWS CloudFormation API and Shell Scripts

====== Alternative: AWS Cloud Development Kit

==== Building Environments With AWS CloudFormation Stacks

===== Creating, Updating, And Deleting Stacks

===== Organizing Your Stacks and Files

=== AWS CloudFormation Recipes

==== Recipe: Creating a Basic Virtual Private Cloud (VPC)

==== Recipe: Publishing a Docker Image to Elastic Container Registry (ECR)

==== Recipe: Deploying a Docker Image to Elastic Container Service (ECS)

* extend the basic stack to deploy the Docker Image into the VPC

==== Recipe: Creating an AWS Cognito User Pool and Client

* manual configuration
* scripted configuration
* useful CLI commands

==== Recipe: Deploying an Application and Ancillary Services

===== Setting up a PostgreSQL Database

====== Setting up a Jump Host for Database Access

===== Creating a Load Balancer

===== Using Health check endpoints

===== Deploying and Running the Main Application

===== Recipe: Using Amazon's API Gateway

==== Recipe: Using a Custom Domain With Route 53

* DNS with Route 53
* Using HTTPS

=== Running and Testing the Application Locally During Development

* with not AWS environment present
* Spring annotations for mocking various AWS components
* Spring annotations for selectively enabling and disabling features depending on the environment available

=== Observability

* CloudWatch
* CloudTrail
* basis for observability topics in future chapters

=== Keeping Your Costs in Check

* Billing Console
* Cost Explorer
* usage thresholds
* cost and usage reports
* eligibility for AWS Free Tier

=== Summary and Key Takeaways

=== Bonus: Deployment Patterns

* Green / Blue
* Canary
* more ... ?
